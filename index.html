<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Card√°pio DuoSabor</title>
<link rel="icon" href="logo.png" />

<style>
:root{
  --bg:#f7f3ea;
  --card:#ffffff;
  --accent:#c63f3f;
  --accent-dark:#b03535;
  --muted:#7b6d63;
  --success:#25d366;
  --max-width:900px;
  --radius:14px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg);
  color:#222;
  display:flex;
  justify-content:center;
  padding:22px;
}
.container{
  width:100%;
  max-width:var(--max-width);
}
.header{
  display:flex;
  align-items:center;
  gap:18px;
  background:linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
  padding:18px;
  border-radius:var(--radius);
  margin-bottom:18px;
  box-shadow:0 6px 18px rgba(10,10,10,0.04);
}
.logo{
  width:92px;
  height:92px;
  border-radius:16px;
  object-fit:contain;
  background:#fff;
  padding:6px;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
}
.header h1{
  margin:0;
  font-size:20px;
  color:var(--accent);
}
.header p{ margin:0; color:var(--muted) }

.banner{
  margin:12px 0 18px 0;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(14,14,14,0.05);
}
.banner img{ width:100%; height:220px; object-fit:cover; display:block; }

.grid{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:18px;
}
@media(max-width:940px){
  .grid{ grid-template-columns: 1fr; }
}

.products{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.card{
  display:flex;
  gap:14px;
  background:var(--card);
  padding:12px;
  border-radius:12px;
  align-items:center;
  box-shadow:0 6px 12px rgba(10,10,10,0.04);
}
.card-body{ flex:1 }
.card-body h3{ margin:0 0 6px 0; font-size:18px; color:#2b2b2b; }
.card-body p{ margin:0; color:var(--muted); font-size:14px; }
.card-actions{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:8px;
}

.qty{
  display:flex;
  align-items:center;
  gap:8px;
  background:#fff7f7;
  padding:6px;
  border-radius:8px;
  border:1px solid rgba(0,0,0,0.04);
}
.qty button{
  border:0;
  background:transparent;
  font-size:18px;
  cursor:pointer;
  padding:6px 8px;
}
.price{ font-weight:700; color:var(--accent); margin-bottom:6px; }

.cart{
  background:var(--card);
  padding:14px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(10,10,10,0.04);
  height:fit-content;
}
.cart h3{ margin:0 0 10px 0; color:var(--accent) }
.cart-list{ max-height:320px; overflow:auto; margin-bottom:10px; display:flex; flex-direction:column; gap:8px; }
.cart-item{
  display:flex;
  justify-content:space-between;
  gap:8px;
  align-items:center;
  padding:8px;
  border-radius:8px;
  background:linear-gradient(180deg, #fff, #fff);
  border:1px solid rgba(0,0,0,0.03);
}
.small{ font-size:13px; color:var(--muted) }

.total{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; font-weight:700; font-size:18px; }
.actions{ display:flex; flex-direction:column; gap:10px; margin-top:12px; }
.btn{
  display:inline-flex;
  justify-content:center;
  gap:8px;
  align-items:center;
  padding:10px 12px;
  border-radius:10px;
  border:0;
  cursor:pointer;
  font-weight:700;
  text-decoration:none;
}
.btn-primary{ background:var(--accent); color:#fff; }
.btn-green{ background:var(--success); color:#fff; }
.btn-ghost{ background:transparent; color:var(--accent); border:1px solid rgba(198,63,63,0.08); }

.note{ margin-top:12px; color:var(--muted); font-size:13px; text-align:center; }

@media(max-width:520px){
  .header{ padding:12px }
  .banner img{ height:160px; }
}
</style>
</head>

<body>
  <div class="container">
    <header class="header">
      <img class="logo" src="logo.png" alt="DuoSabor logo" />
      <div>
        <h1>Card√°pio DuoSabor</h1>
        <p>Pedidos via WhatsApp / Instagram</p>
      </div>
    </header>

    <div class="banner">
      <img src="banner.jpg" alt="Banner DuoSabor" />
    </div>

    <div class="grid">
      <section class="products" id="products"></section>

      <aside class="cart">
        <h3>Seu pedido <span id="countBadge"> (0)</span></h3>

        <div class="cart-list" id="cartList">
          <div class="small">Nenhum item no carrinho. Adicione algo do card√°pio!</div>
        </div>

        <div class="total">
          <span>Total</span>
          <span>R$ <span id="totalPrice">0,00</span></span>
        </div>

        <div class="actions">
          <button class="btn btn-ghost" onclick="copyPedido()">üìã Copiar pedido</button>
          <a id="wplink" class="btn btn-primary" target="_blank">üì≤ Enviar pelo WhatsApp</a>
          <a id="instalink" class="btn btn-green" target="_blank">üì© Abrir Direct (Instagram)</a>
        </div>

        <div class="note">
          Caso o Direct n√£o abra, cole o pedido copiado.
        </div>
      </aside>
    </div>
  </div>

<script>
const produtos = [
  { id: 'ninho', nome: "Ninho com morango", preco: 12 },
  { id: 'maracuja', nome: "Ninho com maracuj√°", preco: 12 },
  { id: 'limao', nome: "Lim√£o", preco: 12 },
  { id: 'choconinho', nome: "Choconinho", preco: 12 },
  { id: 'prestigio', nome: "Prest√≠gio", preco: 12 },
  { id: 'churros', nome: "Churros", preco: 12 },
  { id: 'chocolate', nome: "Chocolate", preco: 12 },
  { id: 'cenoura', nome: "Cenoura", preco: 12 },
  { id: 'doce330', nome: "Doce de leite 330g", preco: 15 },
  { id: 'doce660', nome: "Doce de leite 660g", preco: 30 }
];

let carrinho = {};

function formatPrice(n){
  return n.toFixed(2).replace('.',',');
}

function renderProdutos(){
  const root = document.getElementById('products');
  root.innerHTML = produtos.map(p => `
    <article class="card">
      <div class="card-body">
        <h3>${p.nome}</h3>
        <p class="small">Delicioso e fresquinho</p>
      </div>
      <div class="card-actions">
        <div class="price">R$ ${formatPrice(p.preco)}</div>
        <div class="qty">
          <button onclick="decrease('${p.id}')">‚àí</button>
          <div id="q-${p.id}">0</div>
          <button onclick="increase('${p.id}')">+</button>
        </div>
        <button class="btn btn-ghost" onclick="addToCart('${p.id}')">Adicionar</button>
      </div>
    </article>
  `).join('');
}

function updateCart(){
  const ids = Object.keys(carrinho);
  const list = document.getElementById('cartList');

  if(!ids.length){
    list.innerHTML='<div class="small">Nenhum item no carrinho. Adicione algo do card√°pio!</div>';
  } else {
    list.innerHTML = ids.map(id=>{
      const p = produtos.find(x=>x.id===id);
      const q = carrinho[id];
      return `
      <div class="cart-item">
        <strong>${p.nome}</strong>
        <div>
          <strong style="color:var(--accent)">R$ ${formatPrice(p.preco*q)}</strong>
          <div>
            <button onclick="decrease('${id}')">‚àí</button>
            <button onclick="increase('${id}')">+</button>
          </div>
        </div>
      </div>`;
    }).join('');
  }

  const total = produtos.reduce((t,p)=>t+(carrinho[p.id]||0)*p.preco,0);
  document.getElementById('totalPrice').innerText=formatPrice(total);
  document.getElementById('countBadge').innerText=` (${ids.length})`;

  updateLinks();
}

function addToCart(id){
  carrinho[id] = (carrinho[id]||0)+1;
  document.getElementById('q-'+id).innerText = carrinho[id];
  updateCart();
}
function increase(id){ addToCart(id); }
function decrease(id){
  if(!carrinho[id]) return;
  if(--carrinho[id] <= 0) delete carrinho[id];
  document.getElementById('q-'+id).innerText = carrinho[id] || 0;
  updateCart();
}

function gerarTextoPedido(){
  const ids=Object.keys(carrinho);
  if(!ids.length) return "üç∞ *Pedido DuoSabor* üç∞";

  let msg="üç∞ *Pedido DuoSabor ‚Äî Coroaci* üç∞\n\n";

  ids.forEach(id=>{
    const p=produtos.find(x=>x.id===id);
    msg+=`${carrinho[id]}x *${p.nome}* ‚Äî R$${formatPrice(p.preco*carrinho[id])}\n`;
  });

  const total = produtos.reduce((t,p)=>t+(carrinho[p.id]||0)*p.preco,0);

  msg+=`\nüìå *Total:* R$${formatPrice(total)}\n\n`;
  msg+=`üë§ Nome do cliente:\nüìç Endere√ßo:\nüí≥ Forma de pagamento:`;

  return encodeURIComponent(msg);
}

function updateLinks(){
  const txt = gerarTextoPedido();
  document.getElementById('wplink').href =
    `https://wa.me/5533984553145?text=${txt}`;
  document.getElementById('instalink').href =
    `https://www.instagram.com/direct/t/duosabor.coroaci_`;
}

function copyPedido(){
  navigator.clipboard.writeText(decodeURIComponent(gerarTextoPedido()));
  alert("Pedido copiado!");
}

renderProdutos();
updateCart();
</script>
</body>
</html>
